<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>ä¸‹è½½å£çº¸å½“ç„¶ä¹Ÿå¾—Xæ ¼æ‹‰æ»¡ - pujic</title><meta name=Description content><meta property="og:title" content="ä¸‹è½½å£çº¸å½“ç„¶ä¹Ÿå¾—Xæ ¼æ‹‰æ»¡"><meta property="og:description" content="å®ä¸ç›¸ç’ï¼Œä½œä¸ºä¸€ä¸ªå–œæ¬¢æ”¶é›†å£çº¸çš„boyï¼Œæˆ‘ç›¯ä¸Šwallhavenå¾ˆä¹…äº†"><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/posts/%E4%B8%8B%E8%BD%BD%E5%A3%81%E7%BA%B8%E5%BD%93%E7%84%B6%E4%B9%9F%E5%BE%97x%E6%A0%BC%E6%8B%89%E6%BB%A1/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-19T19:08:05+00:00"><meta property="article:modified_time" content="2021-05-19T19:08:05+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="ä¸‹è½½å£çº¸å½“ç„¶ä¹Ÿå¾—Xæ ¼æ‹‰æ»¡"><meta name=twitter:description content="å®ä¸ç›¸ç’ï¼Œä½œä¸ºä¸€ä¸ªå–œæ¬¢æ”¶é›†å£çº¸çš„boyï¼Œæˆ‘ç›¯ä¸Šwallhavenå¾ˆä¹…äº†"><meta name=application-name content="pujic"><meta name=apple-mobile-web-app-title content="pujic"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://example.org/posts/%E4%B8%8B%E8%BD%BD%E5%A3%81%E7%BA%B8%E5%BD%93%E7%84%B6%E4%B9%9F%E5%BE%97x%E6%A0%BC%E6%8B%89%E6%BB%A1/><link rel=prev href=http://example.org/posts/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%81%87%E5%88%B0git-push%E6%97%B6%E6%97%A0%E6%B3%95%E9%AA%8C%E8%AF%81%E7%9A%84%E9%97%AE%E9%A2%98/><link rel=next href=http://example.org/posts/python%E6%97%A5%E5%BF%97%E5%BA%93loguru/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"ä¸‹è½½å£çº¸å½“ç„¶ä¹Ÿå¾—Xæ ¼æ‹‰æ»¡","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/example.org\/posts\/%E4%B8%8B%E8%BD%BD%E5%A3%81%E7%BA%B8%E5%BD%93%E7%84%B6%E4%B9%9F%E5%BE%97x%E6%A0%BC%E6%8B%89%E6%BB%A1\/"},"genre":"posts","keywords":"Python","wordcount":2084,"url":"http:\/\/example.org\/posts\/%E4%B8%8B%E8%BD%BD%E5%A3%81%E7%BA%B8%E5%BD%93%E7%84%B6%E4%B9%9F%E5%BE%97x%E6%A0%BC%E6%8B%89%E6%BB%A1\/","datePublished":"2021-05-19T19:08:05+00:00","dateModified":"2021-05-19T19:08:05+00:00","publisher":{"@type":"Organization","name":"æ™®å‰æ˜¥"},"author":{"@type":"Person","name":"æ™®å‰æ˜¥"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":""==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:""==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=pujic><img class="lazyload logo" src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ‰€æœ‰æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>åˆ†ç±» </a><a class=menu-item href=/about/>å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=pujic><img class="lazyload logo" src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/favicon.png><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=/posts/ title>æ‰€æœ‰æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/categories/ title>åˆ†ç±»</a><a class=menu-item href=/about/ title>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">ä¸‹è½½å£çº¸å½“ç„¶ä¹Ÿå¾—Xæ ¼æ‹‰æ»¡</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=http://pujichun.ink title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>æ™®å‰æ˜¥</a></span>&nbsp;<span class=post-category>æ”¶å½•äº <a href=/categories/python/><i class="far fa-folder fa-fw"></i>Python</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-05-19>2021-05-19</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 2084 å­—&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 5 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#è§£æç½‘é¡µ>è§£æç½‘é¡µ</a></li><li><a href=#ä¸‹è½½å›¾ç‰‡>ä¸‹è½½å›¾ç‰‡</a></li><li><a href=#è¿›åº¦æ¡>è¿›åº¦æ¡</a></li><li><a href=#å®Œæ•´ç¨‹åºå¦‚ä¸‹>å®Œæ•´ç¨‹åºå¦‚ä¸‹</a></li></ul></nav></div></div><div class=content id=content><p>å®ä¸ç›¸ç’ï¼Œä½œä¸ºä¸€ä¸ªå–œæ¬¢æ”¶é›†å£çº¸çš„boyï¼Œæˆ‘ç›¯ä¸Š<a href=https://wallhaven.cc/ target=_blank rel="noopener noreffer">wallhaven</a>å¾ˆä¹…äº†</p><p>ä½ å¯èƒ½è§‰å¾—æˆ‘åœ¨è¯´è¿™ç§é£æ ¼çš„<img class=lazyload src=/svg/loading.min.svg data-src=https://w.wallhaven.cc/full/8o/wallhaven-8ogk2o.jpg data-srcset="https://w.wallhaven.cc/full/8o/wallhaven-8ogk2o.jpg, https://w.wallhaven.cc/full/8o/wallhaven-8ogk2o.jpg 1.5x, https://w.wallhaven.cc/full/8o/wallhaven-8ogk2o.jpg 2x" data-sizes=auto alt=https://w.wallhaven.cc/full/8o/wallhaven-8ogk2o.jpg title=https://w.wallhaven.cc/full/8o/wallhaven-8ogk2o.jpg></p><p>å®ä¸ç›¸ç’æˆ‘å…¶å®ä¸å–œæ¬¢ï¼Œæˆ‘å–œæ¬¢çš„æ˜¯è¿™ç§</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://w.wallhaven.cc/full/95/wallhaven-95qjpd.jpg data-srcset="https://w.wallhaven.cc/full/95/wallhaven-95qjpd.jpg, https://w.wallhaven.cc/full/95/wallhaven-95qjpd.jpg 1.5x, https://w.wallhaven.cc/full/95/wallhaven-95qjpd.jpg 2x" data-sizes=auto alt=https://w.wallhaven.cc/full/95/wallhaven-95qjpd.jpg title=https://w.wallhaven.cc/full/95/wallhaven-95qjpd.jpg></p><p>å“ˆå“ˆå“ˆ~anywaysï¼</p><p>èµ·å› æ˜¯æˆ‘çš„ç”µè„‘ç”¨çš„æ˜¯åŠ¨æ€å£çº¸ï¼ˆå†™äº†ä¸ªè‡ªåŠ¨åˆ‡æ¢çš„shellè„šæœ¬ï¼‰ï¼Œè€Œä¸€ä¸ªæœˆå‰æˆ‘ç”µè„‘ä¸Šåªæœ‰ä¸‰å¼ å£çº¸ï¼Œå½“æˆ‘çœ‹åˆ°<a href=https://wallhaven.cc/ target=_blank rel="noopener noreffer">wallhaven</a>çš„å£çº¸æ—¶æˆ‘ç¬¬ä¸€æƒ³æ³•æ˜¯æˆ‘è¯¥æ‹¥æœ‰å®ƒä»¬ï¼Œå¦‚æœä½ å–œæ¬¢å£çº¸å¯èƒ½ä¹Ÿå’Œæˆ‘ä¸€æ ·ğŸ˜ğŸ˜ğŸ˜</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/L3TTVIR7OIJCTFW.jpg data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/L3TTVIR7OIJCTFW.jpg, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/L3TTVIR7OIJCTFW.jpg 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/L3TTVIR7OIJCTFW.jpg 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/L3TTVIR7OIJCTFW.jpg title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/L3TTVIR7OIJCTFW.jpg></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/6XDNIDS9J3WCOS2_.jpg data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/6XDNIDS9J3WCOS2_.jpg, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/6XDNIDS9J3WCOS2_.jpg 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/6XDNIDS9J3WCOS2_.jpg 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/6XDNIDS9J3WCOS2_.jpg title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/6XDNIDS9J3WCOS2_.jpg></p><p>æƒ³è¦è¿™äº›å£çº¸ä¸€å¼ ä¸€å¼ çš„æ‰‹åŠ¨ä¸‹è½½å½“ç„¶æ˜¯è¡Œä¸é€šçš„ï¼Œéœ€è¦å€ŸåŠ©ä¸€äº›ç‰¹æ®Šæ‰‹æ®µ</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/_20210519194905.png data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/_20210519194905.png, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/_20210519194905.png 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/_20210519194905.png 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/_20210519194905.png title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/_20210519194905.png></p><p><strong>æ­£ç‰‡å¼€å§‹</strong></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/wallhaven.gif data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/wallhaven.gif, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/wallhaven.gif 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/wallhaven.gif 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/wallhaven.gif title=æ•ˆæœæ¼”ç¤º></p><h2 id=è§£æç½‘é¡µ>è§£æç½‘é¡µ</h2><p>ç¬”è€…è¦æŠ“å–çš„å£çº¸åœ°å€ï¼šhttps://wallhaven.cc/search?q=like%3Arddgwm</p><p>è§‚å¯Ÿåˆ—è¡¨é¡µï¼Œå‘ç°å‘ä¸‹æ»šåŠ¨åï¼Œ<code>url</code>ä¸­çš„<code>page</code>å‚æ•°ä¼šæ”¹å˜</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519195344.png data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519195344.png, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519195344.png 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519195344.png 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519195344.png title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519195344.png></p><p>ç„¶åç®€å•æµ‹è¯•ä¸€ä¸‹åçˆ¬è™«ï¼ˆæ‰‹æ®µè¿‡äºæš´èºå°±ä¸å±•ç¤ºäº†ï¼‰ï¼Œå‘ç°æ²¡æœ‰å‘çˆ¬è™«ï¼Œä½†å‡ºäºå°Šæ•¬è¿˜æ˜¯æºå¸¦ä¸Š<code>User-Agent</code>ï¼Œç®€å•å°è£…ä¸€ä¸‹åˆ—è¡¨é¡µçš„è¯·æ±‚ï¼Œä¸€å…±åªæœ‰8é¡µï¼Œå¦‚æœè¯»è€…æ¯”è¾ƒé—²ä¹Ÿå¯ä»¥è‡ªè¡Œç ´è§£ä¸€ä¸‹<code>total page</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>requests.exceptions</span> <span class=kn>import</span> <span class=n>RequestException</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>download_html</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>resp</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>resp</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>resp</span><span class=o>.</span><span class=n>content</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>RequestException</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>run</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>link_list</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>9</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;https://wallhaven.cc/search?q=like%3Arddgwm&amp;page=</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>html</span> <span class=o>=</span> <span class=n>download_html</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>run</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±è¦è§£æhtmlè·å–åˆ°å›¾ç‰‡urläº†</p><p>å½“æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·å®šä½åˆ°å›¾ç‰‡çš„æ—¶å€™å‘ç°<code>src</code>çš„å€¼æ˜¯å°å›¾çš„é“¾æ¥</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201606.png data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201606.png, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201606.png 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201606.png 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201606.png title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201606.png></p><p>ç‚¹å‡»å°é¢è¿›å»ä¹‹åå‘ç°å›¾ç‰‡æ˜¯è¿™æ ·çš„</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519200554.png data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519200554.png, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519200554.png 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519200554.png 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519200554.png title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519200554.png></p><p>å¾ˆæ˜¾ç„¶è¿™ä¸ªé¡µé¢æ˜¯ç”±å‰ç«¯ç¨‹åºæ¸²æŸ“å‡ºæ¥çš„ï¼Œè¿™ä¸ªé¡µé¢ä¸æ˜¯å›¾ç‰‡ï¼Œå› æ­¤éœ€è¦é¼ æ ‡å³é”®ç‚¹å‡»è¿™ä¸ªé¡µé¢ä¸­çš„å¤§å›¾ç‰‡ï¼Œé€‰ä¸­<code>åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å›¾ç‰‡</code></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201145.png data-srcset="https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201145.png, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201145.png 1.5x, https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201145.png 2x" data-sizes=auto alt=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201145.png title=https://pujichun-blog-1301170821.cos.ap-chengdu.myqcloud.com/img/20210519201145.png></p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä»è¿™ä¸ªé¡µé¢ä¸­è§£æåˆ°å›¾ç‰‡é“¾æ¥ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦</p><p>åœ¨æ–°æ‰“å¼€çš„çª—å£ä¸­å‘ç°urlå˜æˆäº†è¿™æ ·<code>https://w.wallhaven.cc/full/rd/wallhaven-rddgwm.jpg</code>ï¼Œè¿™ä¸ªé“¾æ¥å’Œåˆ—è¡¨é¡µä¸­<code>src</code>çš„å€¼å¾ˆåƒï¼Œç®€å•å†™ä¸ªå‡½æ•°è½¬æ¢ä¸€ä¸‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>image_link_process</span><span class=p>(</span><span class=n>image_link</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># https://w.wallhaven.cc/full/rd/wallhaven-rddgwm.jpg</span>
</span></span><span class=line><span class=cl>    <span class=c1># https://th.wallhaven.cc/small/rd/rddgwm.jpg</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=s2>&#34;small&#34;</span> <span class=ow>in</span> <span class=n>image_link</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>image_link</span> <span class=o>=</span> <span class=n>image_link</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;th&#34;</span><span class=p>,</span> <span class=s2>&#34;w&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>image_link</span> <span class=o>=</span> <span class=n>image_link</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;small&#34;</span><span class=p>,</span> <span class=s2>&#34;full&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>url_path</span> <span class=o>=</span> <span class=n>image_link</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>url_path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;wallhaven-</span><span class=si>{</span><span class=n>url_path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;/&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>url_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>æ¬§å…‹ï¼è¿è¡Œä¹‹åå‘ç°èƒ½è½¬æ¢æˆåŠŸï¼Œé‚£ä¹ˆä¸‹ä¸€æ­¥å°±æ˜¯æå–åˆ°<code>src</code>çš„å€¼ï¼Œç¼–å†™ä¸€ä¸ªç®€å•çš„è„šæœ¬æµ‹è¯•ä¸€ä¸‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>lxml</span> <span class=kn>import</span> <span class=n>etree</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>test</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=s2>&#34;https://wallhaven.cc/search?q=like%3Arddgwm&amp;page=1&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>resp</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>html</span> <span class=o>=</span> <span class=n>resp</span><span class=o>.</span><span class=n>content</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>html</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34;</span><span class=se>\n\n\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span> <span class=o>=</span> <span class=n>etree</span><span class=o>.</span><span class=n>HTML</span><span class=p>(</span><span class=n>html</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>image_links</span> <span class=o>=</span> <span class=n>element</span><span class=o>.</span><span class=n>xpath</span><span class=p>(</span><span class=s1>&#39;//img[@alt=&#34;loading&#34;]/@src&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>image_links</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>test</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>å‘ç°ä¸å¯¹å•Š</p><p><img class=lazyload src=/svg/loading.min.svg data-src=http://img.doutula.com/production/uploads/image/2016/07/11/20160711198823_aAEDKy.jpg data-srcset="http://img.doutula.com/production/uploads/image/2016/07/11/20160711198823_aAEDKy.jpg, http://img.doutula.com/production/uploads/image/2016/07/11/20160711198823_aAEDKy.jpg 1.5x, http://img.doutula.com/production/uploads/image/2016/07/11/20160711198823_aAEDKy.jpg 2x" data-sizes=auto alt=http://img.doutula.com/production/uploads/image/2016/07/11/20160711198823_aAEDKy.jpg title=http://img.doutula.com/production/uploads/image/2016/07/11/20160711198823_aAEDKy.jpg></p><p>æŸ¥çœ‹è¾“å‡ºçš„htmlï¼Œå‘ç°å¯¹åº”æ ‡ç­¾æ²¡æœ‰<code>src</code>å±æ€§ï¼Œä½†æ˜¯æœ‰<code>data-src</code>å±æ€§ï¼Œå› æ­¤æå–<code>data-src</code>çš„å€¼ï¼Œå°†<code>xpath</code>è¡¨è¾¾å¼æ”¹ä¸º</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>//img[@alt=&#34;loading&#34;]/@data-src
</span></span></code></pre></td></tr></table></div></div><p>å†æ¬¡è¿è¡Œï¼è¿™ä¸‹æ¬§å…‹äº†ï¼</p><p>æ¥ä¸‹æ¥å°±æ˜¯é‡å¤´æˆäº†ï¼ä¸‹è½½å›¾ç‰‡ï¼</p><h2 id=ä¸‹è½½å›¾ç‰‡>ä¸‹è½½å›¾ç‰‡</h2><p>é€šå¸¸åœ¨ç”¨<code>requests</code>è·å–ç½‘é¡µçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨<code>text</code>æˆ–è€…<code>content.decode()</code>çš„æ–¹æ³•å°†è¯·æ±‚è¿”å›çš„æ•´ä¸ª<code>body</code>è¯»å‡ºæ¥ï¼Œä½†æ˜¯å¯¹äº<a href=https://wallhaven.cc/ target=_blank rel="noopener noreffer">wallhaven</a>ä¸Šåˆ†è¾¨ç‡æ™®ééƒ½å¾ˆé«˜çš„å›¾ç‰‡è€Œè¨€ï¼Œæˆ‘ä»¬åº”è¯¥åˆ†å—è¯»å–ã€‚</p><p>å› ä¸ºå›¾ç‰‡ä¼ è¾“çš„è¿‡ç¨‹æœ¬æ¥å°±æ˜¯ä¸€ä¸ªæµå¼ä¼ è¾“ï¼Œä½¿ç”¨<code>response.get(stream=True)</code>å°†æ¨è¿Ÿå“åº”å†…å®¹çš„ä¸‹è½½ï¼Œå½“æˆ‘ä»¬è¯»å–çš„æ—¶å€™æ‰ä¼šä¸‹è½½</p><p>å› ä¸ºè¦åˆ†å—è¯»å–ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ¯æ¬¡è¯»ä¸€å®šæ•°é‡çš„å­—èŠ‚çš„æ–‡ä»¶å‡ºæ¥ï¼Œæ‰€ä»¥è¦ä½¿ç”¨<code>response.iter_content(chunk)</code>çš„æ–¹å¼å»è¯»ï¼Œä¸€æ¬¡è¯»<code>chunk</code>ä¸ªå­—èŠ‚çš„å†…å®¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>download_image</span><span class=p>(</span><span class=n>image_link</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>resp</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>image_link</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>,</span> <span class=n>stream</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>resp</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file</span><span class=o>=</span><span class=sa>f</span><span class=s1>&#39;images/</span><span class=si>{</span><span class=n>image_link</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&#34;wb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=n>chunk</span> <span class=ow>in</span> <span class=n>resp</span><span class=o>.</span><span class=n>iter_content</span><span class=p>(</span><span class=n>chunk_size</span><span class=o>=</span><span class=mi>1024</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>chunk</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ä¸‹è½½æˆåŠŸ&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ä¸‹è½½å¤±è´¥&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ä¸‹è½½å¤±è´¥&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=è¿›åº¦æ¡>è¿›åº¦æ¡</h2><p>æœ¬æ–‡ä½¿ç”¨çš„æ”¯æŒè¿›åº¦æ¡çš„ç¬¬ä¸‰æ–¹åº“ä¸º<code>rich</code>ï¼Œ<code>rich</code>åŠŸèƒ½ååˆ†å¼ºå¤§</p><p>å®‰è£…ååœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°±èƒ½çœ‹åˆ°æ ·ä¾‹å±•ç¤º</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>python -m rich.progress
</span></span></code></pre></td></tr></table></div></div><p>å› ä¸ºä»£ç ç®€å•æ‰€ä»¥å°±ä¸åºŸè¯äº†</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>download_image</span><span class=p>(</span><span class=n>image_link</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>resp</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>image_link</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>,</span> <span class=n>stream</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># è·å–å›¾ç‰‡æ€»å­—èŠ‚æ•°</span>
</span></span><span class=line><span class=cl>        <span class=n>file_size</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>resp</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s1>&#39;content-length&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>resp</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file</span><span class=o>=</span><span class=sa>f</span><span class=s1>&#39;images/</span><span class=si>{</span><span class=n>image_link</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&#34;wb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># åˆ›å»ºå¹¶å¯åŠ¨Progressï¼ˆè¿›åº¦æ¡ï¼‰å¯¹è±¡</span>
</span></span><span class=line><span class=cl>                <span class=k>with</span> <span class=n>Progress</span><span class=p>()</span> <span class=k>as</span> <span class=n>progress</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1># ç»™Progresså¯¹è±¡æ·»åŠ ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶æŒ‡å®šä»»åŠ¡å¤§å°</span>
</span></span><span class=line><span class=cl>                    <span class=n>task1</span> <span class=o>=</span> <span class=n>progress</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;[red]Downloading...</span><span class=si>{</span><span class=n>f</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>total</span><span class=o>=</span><span class=n>file_size</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>for</span> <span class=n>chunk</span> <span class=ow>in</span> <span class=n>resp</span><span class=o>.</span><span class=n>iter_content</span><span class=p>(</span><span class=n>chunk_size</span><span class=o>=</span><span class=mi>1024</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>chunk</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=c1># æ›´æ–°è¿›åº¦æ¡</span>
</span></span><span class=line><span class=cl>                        <span class=n>progress</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>task1</span><span class=p>,</span> <span class=n>advance</span><span class=o>=</span><span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ä¸‹è½½å¤±è´¥&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ä¸‹è½½å¤±è´¥&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡<code>Progress</code>å¯¹è±¡å¯ä»¥åˆ›å»ºå¤šæ¡è¿›åº¦æ¡</p><h2 id=å®Œæ•´ç¨‹åºå¦‚ä¸‹>å®Œæ•´ç¨‹åºå¦‚ä¸‹</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>requests.exceptions</span> <span class=kn>import</span> <span class=n>RequestException</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>lxml</span> <span class=kn>import</span> <span class=n>etree</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>rich.progress</span> <span class=kn>import</span> <span class=n>Progress</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>download_html</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>resp</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>resp</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>resp</span><span class=o>.</span><span class=n>content</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&#34;utf8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>RequestException</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>parse_image_link</span><span class=p>(</span><span class=n>html</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span> <span class=o>=</span> <span class=n>etree</span><span class=o>.</span><span class=n>HTML</span><span class=p>(</span><span class=n>html</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>links</span> <span class=o>=</span> <span class=n>element</span><span class=o>.</span><span class=n>xpath</span><span class=p>(</span><span class=s1>&#39;//img[@alt=&#34;loading&#34;]/@data-src&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>links</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>image_link_process</span><span class=p>(</span><span class=n>image_link</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># https://w.wallhaven.cc/full/v9/wallhaven-v9gk6l.jpg</span>
</span></span><span class=line><span class=cl>    <span class=c1># https://th.wallhaven.cc/small/v9/v9gk6l.jpg</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=s2>&#34;small&#34;</span> <span class=ow>in</span> <span class=n>image_link</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>image_link</span> <span class=o>=</span> <span class=n>image_link</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;th&#34;</span><span class=p>,</span> <span class=s2>&#34;w&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>image_link</span> <span class=o>=</span> <span class=n>image_link</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;small&#34;</span><span class=p>,</span> <span class=s2>&#34;full&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>url_path</span> <span class=o>=</span> <span class=n>image_link</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>url_path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;wallhaven-</span><span class=si>{</span><span class=n>url_path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;/&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>url_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>download_image</span><span class=p>(</span><span class=n>image_link</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>resp</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>image_link</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>,</span> <span class=n>stream</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>file_size</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>resp</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s1>&#39;content-length&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>resp</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file</span><span class=o>=</span><span class=sa>f</span><span class=s1>&#39;images/</span><span class=si>{</span><span class=n>image_link</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&#34;wb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>with</span> <span class=n>Progress</span><span class=p>()</span> <span class=k>as</span> <span class=n>progress</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>task1</span> <span class=o>=</span> <span class=n>progress</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;[red]Downloading...</span><span class=si>{</span><span class=n>f</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>total</span><span class=o>=</span><span class=n>file_size</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>for</span> <span class=n>chunk</span> <span class=ow>in</span> <span class=n>resp</span><span class=o>.</span><span class=n>iter_content</span><span class=p>(</span><span class=n>chunk_size</span><span class=o>=</span><span class=mi>1024</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>chunk</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=n>progress</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>task1</span><span class=p>,</span> <span class=n>advance</span><span class=o>=</span><span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ä¸‹è½½å¤±è´¥&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ä¸‹è½½å¤±è´¥&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>run</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>link_list</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>9</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;https://wallhaven.cc/search?q=like%3Arddgwm&amp;page=</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>html</span> <span class=o>=</span> <span class=n>download_html</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>links</span> <span class=o>=</span> <span class=n>parse_image_link</span><span class=p>(</span><span class=n>html</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>link_list</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>links</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>image_link</span> <span class=ow>in</span> <span class=n>link_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>image_link</span> <span class=o>=</span> <span class=n>image_link_process</span><span class=p>(</span><span class=n>image_link</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>download_image</span><span class=p>(</span><span class=n>image_link</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/svg/loading.min.svg data-src=http://img.doutula.com/production/uploads/image/2020/03/28/20200328365125_DSQGkA.jpg data-srcset="http://img.doutula.com/production/uploads/image/2020/03/28/20200328365125_DSQGkA.jpg, http://img.doutula.com/production/uploads/image/2020/03/28/20200328365125_DSQGkA.jpg 1.5x, http://img.doutula.com/production/uploads/image/2020/03/28/20200328365125_DSQGkA.jpg 2x" data-sizes=auto alt=http://img.doutula.com/production/uploads/image/2020/03/28/20200328365125_DSQGkA.jpg title=http://img.doutula.com/production/uploads/image/2020/03/28/20200328365125_DSQGkA.jpg></p><p>è¿™å°±å®Œäº†ï¼Ÿå½“ç„¶æ²¡æœ‰ï¼Œå¯èƒ½å„ä½è¯»è€…å·²ç»æƒ³å¥½æ€ä¹ˆç”¨å¤šçº¿ç¨‹æˆ–è€…å¤šè¿›ç¨‹åŠ é€Ÿäº†ï¼Œä½†æ˜¯å•Šï¼å°±æ˜¯è¿™ä¸ªä½†æ˜¯ï¼å¤šçº¿ç¨‹å¤šæ²¡æ„æ€ï¼åç¨‹~~~å†²ï¼</p><p><img class=lazyload src=/svg/loading.min.svg data-src=http://img.doutula.com/production/uploads/image/2017/12/14/20171214258818_lMAnGx.jpg data-srcset="http://img.doutula.com/production/uploads/image/2017/12/14/20171214258818_lMAnGx.jpg, http://img.doutula.com/production/uploads/image/2017/12/14/20171214258818_lMAnGx.jpg 1.5x, http://img.doutula.com/production/uploads/image/2017/12/14/20171214258818_lMAnGx.jpg 2x" data-sizes=auto alt=http://img.doutula.com/production/uploads/image/2017/12/14/20171214258818_lMAnGx.jpg title=http://img.doutula.com/production/uploads/image/2017/12/14/20171214258818_lMAnGx.jpg></p><p><strong>æç¤ºï¼šä½¿ç”¨å¹¶å‘ä¼šå¯¼è‡´è¿›åº¦æ¡å¯¹è±¡é‡å¤ï¼Œä½†æ˜¯å¹¶ä¸å½±å“æ•ˆæœ</strong></p><p>å› ä¸ºç¯‡å¹…å·²ç»è¾ƒé•¿ï¼Œæ‰€ä»¥ç¬”è€…ä¾¿ä¸å†è®²è¿°ç¨‹åºå¦‚ä½•ç¼–å†™ï¼Œå…¬ä¼—å·åå°å›å¤â€œwallhavenâ€å³å¯è·å–åç¨‹ç‰ˆç¨‹åº</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2021-05-19</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/python/>Python</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/posts/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%81%87%E5%88%B0git-push%E6%97%B6%E6%97%A0%E6%B3%95%E9%AA%8C%E8%AF%81%E7%9A%84%E9%97%AE%E9%A2%98/ class=prev rel=prev title="è®°ä¸€æ¬¡é‡åˆ°git pushæ—¶æ— æ³•éªŒè¯çš„é—®é¢˜"><i class="fas fa-angle-left fa-fw"></i>è®°ä¸€æ¬¡é‡åˆ°git pushæ—¶æ— æ³•éªŒè¯çš„é—®é¢˜</a>
<a href=/posts/python%E6%97%A5%E5%BF%97%E5%BA%93loguru/ class=next rel=next title=pythonæ—¥å¿—åº“loguru>pythonæ—¥å¿—åº“loguru<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=http://pujichun.ink target=_blank>æ™®å‰æ˜¥</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/typeit/typeit.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:10},comment:{},data:{"id-1":"pujic","id-2":"pujic"},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,type:"lunr"},typeit:{cursorChar:null,cursorSpeed:null,data:{"id-1":["id-1"],"id-2":["id-2"]},duration:null,speed:null}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>